services:

  # Controller
  culturefeed_udb3.search_controller:
    class: CultuurNet\UDB3\Symfony\Search\SearchController
    arguments: ['@culturefeed_udb3.cached_search_service']

  culturefeed_udb3.cache.defult_search:
    class: Drupal\culturefeed_udb3\DoctrineCache
    arguments: ['@culturefeed_udb3.cache']
  culturefeed_udb3.cached_search_service:
    class: CultuurNet\UDB3\Search\CachedDefaultSearchService
    arguments: ['@culturefeed_udb3.search_service', '@culturefeed_udb3.cache.defult_search']
  culturefeed_udb3.search_api_2:
    class: CultuurNet\UDB3\SearchAPI2\DefaultSearchService
    factory: culturefeed_udb3.search_api_2.factory:create
  culturefeed_udb3.search_api_2.factory:
    class: Drupal\culturefeed_udb3\SearchApi2Factory
    arguments: ['@config.factory']
  culturefeed_udb3.search_service:
    class: CultuurNet\UDB3\Search\PullParsingSearchService
    arguments: ['@culturefeed_udb3.search_api_2', '@culturefeed_udb3.iri_generator', '@culturefeed_udb3.place.iri_generator']
